<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday, Bibi! ðŸ’•</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Times New Roman', Times, serif;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: linear-gradient(135deg, #FFD1DC, #FFE4E1);
    color: #4a4a4a;
    cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="%23FF69B4" stroke="white" stroke-width="1"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') 12 12, auto;
}

/* Petals Container */
#petal-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 999;
    overflow: hidden;
}

/* Page Wrapper */
#page-container {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    position: relative;
}

#page-wrapper {
    display: flex;
    width: 400vw; /* 4 pages */
    height: 100vh;
    transition: transform 0.8s cubic-bezier(0.77, 0, 0.175, 1);
}

.page {
    width: 100vw;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 2rem;
    box-sizing: border-box;
    position: relative;
    text-align: center;
}

/* Fonts */
.font-great-vibes { font-family: 'Great Vibes', cursive; }

/* Happy Birthday Text */
.happy-birthday-text {
    font-size: clamp(5rem, 18vw, 11rem);
    font-weight: normal;
    color: white;
    text-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    line-height: 1;
    animation: wiggle 3s ease-in-out infinite;
}

@keyframes wiggle {
    0%,100% { transform: rotate(0deg); }
    25% { transform: rotate(-1deg); }
    75% { transform: rotate(1deg); }
}

/* Buttons */
.custom-btn {
    background-color: rgba(255, 255, 255, 0.8);
    color: #ff69b4;
    padding: 1rem 2.5rem;
    border-radius: 9999px;
    font-weight: bold;
    font-size: 1.1rem;
    box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
    transition: all 0.3s ease;
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.9);
    cursor: pointer;
}
.custom-btn:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 8px 20px rgba(255, 105, 180, 0.5);
}
.custom-btn:active { transform: translateY(-1px); }

.restart-btn {
    position: absolute;
    top: 2rem;
    left: 2rem;
    background-color: rgba(255, 255, 255, 0.7);
    color: #ff69b4;
    padding: 0.5rem 1.5rem;
    border-radius: 9999px;
    font-weight: bold;
    font-size: 0.9rem;
    z-index: 20;
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(3px);
    cursor: pointer;
}
.restart-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 10px rgba(255, 105, 180, 0.3);
}

/* Quiz Input */
.quiz-input {
    border: 2px solid #ff99c4;
    background-color: rgba(255, 255, 255, 0.8);
    transition: all 0.3s ease;
}
.quiz-input:focus {
    box-shadow: 0 0 15px rgba(255, 105, 180, 0.5);
    border-color: #ff69b4;
    outline: none;
}

/* Gallery */
.gallery-container {
    width: 100%;
    max-width: 800px;
    height: 60vh;
    overflow-y: auto;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
    padding: 1rem;
}
.gallery-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 1rem;
    transition: transform 0.3s ease;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    opacity: 0;
    transform: scale(0);
}
.gallery-container img:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}
@keyframes burst-in {
    0% { opacity: 0; transform: scale(0.1) rotate(-20deg); }
    70% { opacity: 1; transform: scale(1.1) rotate(5deg); }
    100% { opacity: 1; transform: scale(1) rotate(0deg); }
}

/* Final Envelope */
#final-letter-container { width: clamp(300px,80vw,700px); height: clamp(200px,60vh,450px); position: relative; perspective: 1000px; }
#envelope { position: absolute; width: 100%; height: 100%; cursor: pointer; transform-style: preserve-3d; transition: transform 0.8s ease-in-out; transform-origin: center center; }
#envelope.open { transform: translateY(-20px) rotateX(-5deg) rotateY(5deg); }
.envelope-part { position: absolute; width: 100%; height: 100%; background-color: #fce4ec; border-radius: 5px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
#envelope-back { z-index: 1; }
#envelope-flap { z-index: 3; background: linear-gradient(#f8bbd0,#fce4ec); transform-origin: top; transition: transform 0.7s ease-in-out; clip-path: polygon(0 0,100% 0,50% 60%); }
#envelope.open #envelope-flap { transform: rotateX(180deg); z-index:0; }
#envelope-front { z-index: 2; clip-path: polygon(0 0,100% 0,100% 100%,0 100%); }
#envelope-seal { position: absolute; top:45%; left:50%; transform: translate(-50%,-50%); width:30px; height:30px; background-color:#ff69b4; border-radius:50%; z-index:4; box-shadow:0 0 5px rgba(0,0,0,0.2); transition: opacity 0.3s; }
#envelope.open #envelope-seal { opacity:0; }
#letter { position:absolute; top:0; left:0; width:100%; height:100%; background:white; border-radius:5px; box-shadow:0 0 20px rgba(0,0,0,0.15); z-index:0; opacity:0; transform:translateY(0) scale(0.9); padding:1.5rem; box-sizing:border-box; text-align:left; color:#555; font-size:clamp(0.8rem,2.5vw,1.1rem); line-height:1.5; overflow-y:auto; }
#letter.visible { animation: floatForward 1.5s forwards ease-out; }
#letter em { font-style: italic; color:#e91e63; }
@keyframes floatForward { from { opacity:0; transform:translateY(0) scale(0.9) rotateX(0deg); z-index:0; } 50% { opacity:1; transform:translateY(0) scale(1.02) rotateX(2deg); z-index:10; } 100% { opacity:1; transform:translateY(0) scale(1) rotateX(0deg); z-index:10; } }

/* Petals Falling */
.page-petal { position:absolute; top:-10%; background-size:contain; background-repeat:no-repeat; pointer-events:none; z-index:10; animation: fall linear infinite; }
@keyframes fall { to { transform: translateY(110vh) rotate(360deg); opacity:0; } }

</style>
</head>
<body>

<div id="petal-container"></div>

<!-- Background Music -->
<audio id="background-music" loop>
    <source src="https://raw.githubusercontent.com/seanthengineer/Bibi-21-Birthday/refs/heads/main/Seasons%20-%20Wave%20to%20Earth.mp3" type="audio/mpeg">
</audio>

<div id="page-container">
    <div id="page-wrapper">

        <!-- PAGE 1: LANDING -->
        <section class="page" id="page-1">
            <h1 class="font-great-vibes happy-birthday-text">Happy</h1>
            <h1 class="font-great-vibes happy-birthday-text">Birthday</h1>
            <h2 class="font-great-vibes text-5xl md:text-7xl text-pink-500 mt-4" style="text-shadow: 0 2px 4px rgba(0,0,0,0.1);">To my Beautiful Special Bibi</h2>
            <button id="begin-btn" class="custom-btn mt-12">Click to Begin</button>
        </section>

        <!-- PAGE 2: QUIZ -->
        <section class="page" id="page-2" style="background: linear-gradient(135deg, #FFD1DC, #FFE4E1);">
            <button class="restart-btn">Start Over</button>
            <div class="w-full max-w-2xl bg-white/50 p-8 rounded-3xl shadow-lg backdrop-blur-md">
                <div class="quiz-container">
                    <label for="quiz-input" class="block mb-2 font-bold text-xl">Whatâ€™s something you absolutely love about yourself?</label>
                    <input type="text" id="quiz-input" class="quiz-input w-full p-3 rounded-xl text-center" placeholder="idk, I don't know, nothing, fat, etc is not allowed">
                    <button id="submit-quiz-btn" class="custom-btn mt-4">I love this about me!</button>
                    <p id="quiz-feedback" class="mt-4 text-pink-600 font-semibold h-6"></p>
                </div>
            </div>
        </section>

        <!-- PAGE 3: GALLERY -->
        <section class="page" id="page-3" style="background: linear-gradient(135deg, #FFD1DC, #FFE4E1);">
            <button class="restart-btn">Start Over</button>
            <div class="flex flex-col items-center w-full">
                <div id="gallery-prompt" class="text-center bg-white/50 p-8 rounded-3xl shadow-lg backdrop-blur-md max-w-xl">
                    <h3 class="font-great-vibes text-5xl text-pink-600 mb-6">A little gallery of us...</h3>
                    <button id="reveal-gallery-btn" class="custom-btn">Click to Open!</button>
                </div>
                <div id="gallery-wrapper" class="hidden flex-col items-center w-full">
                    <h3 class="font-great-vibes text-5xl text-pink-600 my-6">The Gallery</h3>
                    <div id="gallery-container" class="gallery-container"></div>
                </div>
            </div>
        </section>

        <!-- PAGE 4: FINAL LETTER -->
        <section class="page" id="page-4" style="background: linear-gradient(135deg, #FFD1DC, #FFE4E1);">
            <button class="restart-btn">Start Over</button>
            <div id="final-letter-container">
                <div id="envelope">
                    <div id="envelope-back" class="envelope-part"></div>
                    <div id="envelope-flap" class="envelope-part"></div>
                    <div id="envelope-front" class="envelope-part"></div>
                    <div id="envelope-seal"></div>
                    <div id="letter">
                        <h2>Dear Bibi,</h2>
                        <p><em>Thank you for being amazing and brightening my world every day. Happy Birthday!</em></p>
                    </div>
                </div>
            </div>
        </section>

    </div>
</div>

<script>
// PAGE NAVIGATION
const pages = document.querySelectorAll('.page');
const wrapper = document.getElementById('page-wrapper');
let currentPage = 0;

function showPage(index) {
    wrapper.style.transform = `translateX(-${index * 100}vw)`;
    currentPage = index;
}
document.getElementById('begin-btn').addEventListener('click', () => {
    showPage(1);
    // Play music as soon as quiz page starts
    const music = document.getElementById('background-music');
    music.play();
});

// QUIZ FEEDBACK
const submitQuizBtn = document.getElementById('submit-quiz-btn');
const quizInput = document.getElementById('quiz-input');
const quizFeedback = document.getElementById('quiz-feedback');

submitQuizBtn.addEventListener('click', () => {
    if(quizInput.value.trim() === '') {
        quizFeedback.textContent = 'You must write something!';
    } else {
        quizFeedback.textContent = 'Amazing! ðŸ’–';
        setTimeout(() => { showPage(2); }, 1000); // Move to gallery page
    }
});

// REVEAL GALLERY
const revealBtn = document.getElementById('reveal-gallery-btn');
const galleryWrapper = document.getElementById('gallery-wrapper');
revealBtn.addEventListener('click', () => {
    galleryWrapper.classList.remove('hidden');
    const galleryContainer = document.getElementById('gallery-container');
    // Add sample images
    if(galleryContainer.children.length === 0){
        for(let i=1;i<=8;i++){
            const img = document.createElement('img');
            img.src = `https://picsum.photos/400/300?random=${i}`;
            img.style.animation = `burst-in 0.8s ease forwards ${i*0.2}s`;
            galleryContainer.appendChild(img);
        }
    }
});

// RESTART BUTTONS
document.querySelectorAll('.restart-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        showPage(0);
        document.getElementById('background-music').pause();
        document.getElementById('background-music').currentTime = 0;
    });
});

// FINAL LETTER ENVELOPE
const envelope = document.getElementById('envelope');
const letter = document.getElementById('letter');
envelope.addEventListener('click', () => {
    envelope.classList.toggle('open');
    letter.classList.toggle('visible');
});

// PETALS GENERATOR
const petalContainer = document.getElementById('petal-container');
function createPetals(num=15){
    for(let i=0;i<num;i++){
        const petal = document.createElement('div');
        petal.classList.add('page-petal');
        petal.style.width = `${Math.random()*20+10}px`;
        petal.style.height = petal.style.width;
        petal.style.backgroundImage = "url('https://i.imgur.com/9N9kGSp.png')";
        petal.style.left = `${Math.random()*100}vw`;
        petal.style.animationDuration = `${Math.random()*5+5}s`;
        petal.style.animationDelay = `${Math.random()*5}s`;
        petalContainer.appendChild(petal);
    }
}
createPetals(25);
</script>

</body>
</html>
